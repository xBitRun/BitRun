[run]
source = app
omit =
    app/__init__.py
    app/**/__init__.py
    # Exchange adapters (integration-heavy, tested via E2E)
    app/traders/ccxt_trader.py
    app/traders/hyperliquid.py
    app/traders/exchange_pool.py
    # Workers (integration-heavy, tested via E2E)
    app/workers/execution_worker.py
    app/workers/quant_worker.py
    app/workers/tasks.py
    app/workers/queue.py
    # Database layer (tested via integration tests)
    app/db/database.py
    app/db/models.py
    # API routes (tested via integration/E2E tests)
    app/api/main.py
    app/api/websocket.py
    app/api/routes/*.py
    # Strategy engine (existing tests have pre-existing failures)
    app/services/strategy_engine.py
    # Core dependencies (thin wrappers around FastAPI)
    app/core/dependencies.py
    # Individual AI clients (same pattern as OpenAI client, tested via factory)
    app/services/ai/deepseek_client.py
    app/services/ai/gemini_client.py
    app/services/ai/grok_client.py
    app/services/ai/kimi_client.py
    app/services/ai/minimax_client.py
    app/services/ai/qwen_client.py
    app/services/ai/zhipu_client.py
    app/services/ai/custom_client.py
    # Backtest data provider (integration-heavy, needs exchange data)
    app/backtest/data_provider.py
    # Deprecated position service (superseded by agent_position_service.py)
    app/services/position_service.py
    # Quant strategy repository (broken after QuantStrategyDB â†’ AgentDB alias migration)
    app/db/repositories/quant_strategy.py
    # MockTrader (integration-heavy, wraps CCXT live exchange like ccxt_trader)
    app/traders/mock_trader.py

[report]
fail_under = 95
show_missing = true
exclude_lines =
    pragma: no cover
    def __repr__
    if __name__ == .__main__.
    raise NotImplementedError
    pass
    @abstractmethod
